{"version":3,"sources":["./src/app/underreview/underreview.module.ts","./src/app/underreview/underreview.page.scss","./src/app/underreview/underreview.page.html","./src/app/underreview/underreview.page.ts"],"names":[],"mappings":"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","file":"underreview-underreview-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UnderreviewPage } from './underreview.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UnderreviewPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [UnderreviewPage]\n})\nexport class UnderreviewPageModule {}\n","export default \".service-details-grid {\\n  --ion-grid-padding: 1px;\\n}\\n\\nion-col > p.st, ion-col > p.et {\\n  color: grey;\\n}\\n\\nion-note.status {\\n  border: 1px solid;\\n  border-radius: 50px;\\n  padding: 10px;\\n  color: white;\\n  --padding: 10px;\\n  --padding-bottom: 10px;\\n  padding-bottom: 10px;\\n}\\n\\nion-badge.status {\\n  padding: 10px;\\n  border-radius: 50px;\\n}\\n\\nion-text.status-text {\\n  color: white !important;\\n}\\n\\np.comment {\\n  white-space: normal;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3VuZGVycmV2aWV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUNJLHVCQUFBO0FBRko7O0FBSUE7RUFDSSxXQUFBO0FBREo7O0FBR0E7RUFDSSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7RUFDQSxvQkFBQTtBQUFKOztBQUdBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0FBQUo7O0FBR0E7RUFDSSx1QkFBQTtBQUFKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSiIsImZpbGUiOiJ1bmRlcnJldmlldy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VydmljZS1kZXRhaWxzLWRpdntcblxufVxuLnNlcnZpY2UtZGV0YWlscy1ncmlke1xuICAgIC0taW9uLWdyaWQtcGFkZGluZzogMXB4O1xufVxuaW9uLWNvbCA+IHAuc3QsIGlvbi1jb2wgPiBwLmV0IHtcbiAgICBjb2xvcjogZ3JleTtcbn1cbmlvbi1ub3RlLnN0YXR1c3tcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIC0tcGFkZGluZzogMTBweDtcbiAgICAtLXBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5pb24tYmFkZ2Uuc3RhdHVze1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTBweDtcbn1cblxuaW9uLXRleHQuc3RhdHVzLXRleHR7XG4gICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG59XG5wLmNvbW1lbnR7XG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbn0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Under Review</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-list lines=\\\"full\\\">\\n        <div *ngIf=\\\"count_underreview > 0\\\">\\n        <ion-item (click)=\\\"goToDetail(service.workorderid)\\\" detail *ngFor=\\\"let service of underreview\\\">\\n            <ion-avatar><ion-icon color=\\\"warning\\\" size=\\\"large\\\" name=\\\"alert\\\"></ion-icon></ion-avatar>\\n            <ion-label>\\n              <h2>{{service[0]}}</h2>\\n              <h2>{{service.towersites}}</h2>\\n              <p>{{service.longdate}}</p>\\n              <div class=\\\"service-details-div\\\">\\n                <ion-grid class=\\\"service-details-grid\\\">\\n                  <ion-row>\\n                    <ion-col><p class=\\\"comment\\\">{{service.comment}}</p></ion-col>\\n                  </ion-row>\\n                </ion-grid>\\n              </div>\\n            </ion-label>\\n            <!-- <ion-badge slot=\\\"end\\\" class=\\\"status\\\" color=\\\"white\\\"\\n            data-color=\\\"{{(service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined') ? 'danger' : 'warning'}}\\\"\\n            [ngStyle]=\\\"{'background-color': service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined' ? 'var(--ion-color-danger)' : \\n            service?.wostatus == 'Under Review' ? 'var(--ion-color-warning)' : \\n            service?.wostatus == 'Completed' ? 'var(--ion-color-medium)' : 'var(--ion-color-success)', 'border-color':service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined' ? 'var(--ion-color-danger)' : service?.wostatus == 'Under Review' ? 'var(--ion-color-warning)' : 'var(--ion-color-success)' }\\\"\\n            >\\n              <ion-text class=\\\"status-text\\\">{{service.wostatus}}</ion-text>\\n            </ion-badge> -->\\n          </ion-item>\\n        </div>\\n          <p class=\\\"ion-padding\\\" *ngIf=\\\"count_underreview == 0\\\">No work orders available for this section</p>\\n    </ion-list>\\n</ion-content>\\n\";","import {Component, OnInit, LOCALE_ID, Inject,} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {NavController, ModalController} from '@ionic/angular';\nimport {formatDate} from '@angular/common';\nimport {HttpHeaders, HttpClient} from '@angular/common/http';\nimport {Storage} from '@ionic/storage';\nimport {AppConstants} from '../providers/constant/constant';\nimport {LoadingController} from '@ionic/angular';\n\n@Component({\n    selector: 'app-underreview',\n    templateUrl: './underreview.page.html',\n    styleUrls: ['./underreview.page.scss'],\n})\nexport class UnderreviewPage implements OnInit {\n    underreview: object;\n    userinfo: any;\n    user_id: any;\n    count_underreview: any;\n    apiurl: any;\n    service = {\n        id: '',\n        tower: '', //Will be the Transferee + type of service\n        tos: '',\n        desc: '', //Will be address here\n        longdate: '',\n        startTime: '', //Will be time as 00:00 A/PM\n        endTime: '', //Will be time as 00:00 A/PM\n        status: '',\n    };\n\n    constructor(\n        private httpClient: HttpClient,\n        public navCtrl: NavController,\n        private router: Router,\n        public storage: Storage,\n        private activatedRoute: ActivatedRoute,\n        public appConst: AppConstants,\n        public modalCtrl: ModalController,\n        @Inject(LOCALE_ID) private locale: string,\n        public loadingController: LoadingController\n    ) {\n        this.apiurl = this.appConst.getApiUrl();\n    }\n\n    loading: any;\n\n    async showLoading() {\n        this.loading = await this.loadingController.create({\n            message: 'Loading ...'\n        });\n        return await this.loading.present();\n    }\n\n    async hideLoading() {\n        setTimeout(() => {\n            if (this.loading != undefined) {\n                this.loading.dismiss();\n            }\n        }, 1000);\n    }\n\n    goToDetail(serviceid) {\n        this.router.navigateByUrl(`/services/detail/${serviceid}`, {state: {}});\n    }\n\n    logout() {\n        console.log('logout clicked');\n        this.storage.set(\"userdata\", null);\n        this.router.navigateByUrl('/login');\n    }\n\n    async getCurrentTheme() {\n        var current_theme = this.storage.get('userdata').then((userdata) => {\n            if (userdata && userdata.length !== 0) {\n                //current_theme = userdata.theme.toLowerCase();\n                return userdata.theme.toLowerCase();\n            } else {\n                return false;\n            }\n        })\n        return current_theme;\n    }\n\n    async updateCurrentTheme(theme: string) {\n        var userjson: object;\n        await this.isLogged().then(result => {\n            if (!(result == false)) {\n                userjson = result;\n            }\n        })\n        //console.log('from set current theme', userjson.theme);\n        userjson['theme'] = theme.charAt(0).toUpperCase() + theme.slice(1);\n        //console.log('from set current theme', userjson);\n        this.storage.set('userdata', userjson);\n        this.userinfo.theme = theme.charAt(0).toUpperCase() + theme.slice(1);\n        console.log('updated theme on storage memory');\n    }\n\n    async switchTheme() {\n        var current_theme;\n        await this.getCurrentTheme().then((theme) => {\n            console.log(\"the current theme is\", theme);\n            current_theme = theme;\n        });\n        var theme_switcher = {\n            \"dark\": \"light\",\n            \"light\": \"dark\"\n        };\n        var destination_theme = theme_switcher[current_theme]\n        console.log('switching theme from:', current_theme);\n        console.log('switching theme to:', destination_theme);\n        document.body.classList.toggle(destination_theme, true);\n        document.body.classList.toggle(current_theme, false);\n        this.updateCurrentTheme(destination_theme);\n        console.log('theme switched');\n    }\n\n    async isLogged() {\n        var log_status = this.storage.get('userdata').then((userdata) => {\n            if (userdata && userdata.length !== 0) {\n                return userdata;\n            } else {\n                return false;\n            }\n        })\n        return log_status;\n    }\n\n    loadTheme(theme) {\n        console.log('loading theme', theme);\n        document.body.classList.toggle(theme, true);\n        var theme_switcher = {\n            \"dark\": \"light\",\n            \"light\": \"dark\"\n        };\n        document.body.classList.toggle(theme_switcher[theme], false); //switch off previous theme if there was one and prefer the loaded theme.\n        console.log('turning off previous theme', theme_switcher[theme]);\n    }\n\n    getWorkOrders(user_id, type) {\n        var logged_user = {\n            user_id: user_id,\n            type: type\n        }\n        console.log('fetching records for', logged_user);\n        var headers = new HttpHeaders();\n        headers.append(\"Accept\", 'application/json');\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\n        headers.append('Access-Control-Allow-Origin', '*');\n        this.showLoading();\n        this.httpClient.post(this.apiurl + \"getWorkOrders.php\", logged_user, {headers: headers, observe: 'response'})\n            .subscribe(data => {\n                this.hideLoading();\n                console.log(data['body']);\n                var success = data['body']['success'];\n                console.log('login response was', success);\n\n                if (success == true) {\n                    var workorders = data['body']['data'];\n                    console.log('workorders', workorders);\n                    if (type == 'underreview') {\n                        if (data['body']['count'] > 0) {\n                            workorders.forEach(workorder => {\n                                workorder['longdate'] = workorder['date_start'] + ' ' + workorder['time_start'];\n                            });\n                        }\n                        this.underreview = workorders;\n                        this.count_underreview = data['body']['count'];\n                        //console.log('weekly services,', this.weeklyServices);\n                    }\n                } else {\n                    console.log('failed to fetch records');\n                }\n\n            }, error => {\n                this.hideLoading();\n                //console.log(error);\n                //console.log(error.message);\n                //console.error(error.message);\n                console.log('failed to fetch records');\n            });\n    }\n\n    ngOnInit() {\n        this.activatedRoute.params.subscribe((userData) => {\n            if (userData.length !== 0) {\n                this.userinfo = userData;\n                //console.log('param user data:', userData);\n                try {\n                    this.loadTheme(userData.theme.toLowerCase());\n                } catch {\n                    console.log('couldnt load theme');\n                }\n                console.log('param user data length:', userData.length);\n                if (userData.length == undefined) {\n                    console.log('nothing in params, so loading from storage');\n                    this.isLogged().then(result => {\n                        if (!(result == false)) {\n                            //console.log('loading storage data (within param route function)', result);\n                            this.userinfo = result;\n                            this.loadTheme(result.theme.toLowerCase());\n                            this.getWorkOrders(this.userinfo.id, 'underreview');\n                            this.user_id = this.userinfo.id;\n                        } else {\n                            console.log('nothing in storage, going back to login');\n                            this.logout();\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n}\n"],"sourceRoot":"webpack:///"}