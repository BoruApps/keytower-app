{"version":3,"sources":["webpack:///src/app/tab3/tab3.page.ts","webpack:///src/app/map-card/map-card.component.ts","webpack:///src/app/tab3/tab3.page.html","webpack:///src/app/tab3/tab3.module.ts","webpack:///src/app/tab3/tab3.page.scss","webpack:///src/app/map-card/map-card.component.html","webpack:///src/app/map-card/map-card.component.scss"],"names":["Tab3Page","activatedRoute","router","storage","console","log","set","navigateByUrl","current_theme","get","then","userdata","length","theme","toLowerCase","log_status","document","body","classList","toggle","e","target","value","searchterm","nodelist","querySelectorAll","Array","from","filter","cards","textContent","indexOf","toggleAttribute","setTimeout","complete","params","subscribe","userData","userinfo","loadTheme","undefined","isLogged","result","logout","selector","template","MapCardComponent","properties","property","navigate","getProperties","Tab3PageModule","imports","forChild","path","component","declarations"],"mappings":"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","file":"tab3-tab3-module-es5.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Storage} from '@ionic/storage';\nimport {IonInfiniteScroll} from '@ionic/angular';\n\n@Component({\n    selector: 'app-tab3',\n    templateUrl: 'tab3.page.html',\n    styleUrls: ['tab3.page.scss']\n})\nexport class Tab3Page implements OnInit {\n    userinfo: any;\n\n    constructor(private activatedRoute: ActivatedRoute, private  router: Router, public storage: Storage) {\n    }\n\n    /* Default Auth Guard and Theme Loader */\n    logout() {\n        console.log('logging out, no user data found');\n        this.storage.set(\"userdata\", null);\n        this.router.navigateByUrl('/login');\n    }\n\n    async getCurrentTheme() {\n        var current_theme = this.storage.get('userdata').then((userdata) => {\n            if (userdata && userdata.length !== 0) {\n                //current_theme = userdata.theme.toLowerCase();\n                return userdata.theme.toLowerCase();\n            } else {\n                return false;\n            }\n        })\n        return current_theme;\n    }\n\n    async isLogged() {\n        var log_status = this.storage.get('userdata').then((userdata) => {\n            if (userdata && userdata.length !== 0) {\n                return userdata;\n            } else {\n                return false;\n            }\n        })\n        return log_status;\n    }\n\n    loadTheme(theme) {\n        document.body.classList.toggle(theme, true);\n    }\n\n    /* Default Auth Guard and Theme Loader */\n\n\n    filter(e) {\n        console.log(e.target.value);\n        var searchterm = e.target.value.toLowerCase();\n        var nodelist = document.querySelectorAll('app-map-card > ion-card');\n        Array.from(nodelist).filter(function (cards) {\n            console.log(cards.textContent.toLowerCase(), cards.textContent.toLowerCase().indexOf(searchterm));\n            if (cards.textContent.toLowerCase().indexOf(searchterm) > -1) {\n                cards.toggleAttribute('hidden', false);\n            } else {\n                cards.toggleAttribute('hidden', true);\n            }\n        });\n    }\n\n    resetFilter(e) {\n        console.log(e);\n        console.log('resetting filter to show all cards');\n        var nodelist = document.querySelectorAll('app-map-card > ion-card');\n        console.log(nodelist)\n        Array.from(nodelist).filter(function (cards) {\n            cards.toggleAttribute('hidden', false);\n        });\n    }\n\n    getMore(e) {\n        console.log('Retrieving more properties');\n\n        setTimeout(() => {\n            e.target.complete();\n            console.log('New properties retrieved');\n        }, 2000);\n    }\n\n    loadMore(e) {\n        setTimeout(() => {\n            e.target.complete();\n            console.log('New properties retrieved');\n            // App logic to determine if all data is loaded\n            // and disable the infinite scroll\n            /*\n            if (data.length == 1000) {\n              e.target.disabled = true;\n            }\n            */\n        }, 1500);\n    }\n\n    ngOnInit() {\n        this.activatedRoute.params.subscribe((userData) => {\n            if (userData.length !== 0) {\n                this.userinfo = userData;\n                console.log('param user data:', userData);\n                try {\n                    this.loadTheme(userData.theme.toLowerCase());\n                } catch {\n                    console.log('couldnt load theme');\n                }\n                console.log('param user data length:', userData.length);\n                if (userData.length == undefined) {\n                    console.log('nothing in params, so loading from storage');\n                    this.isLogged().then(result => {\n                        if (!(result == false)) {\n                            console.log('loading storage data (within param route function)', result);\n                            this.userinfo = result;\n                            this.loadTheme(result.theme.toLowerCase());\n                        } else {\n                            console.log('nothing in storage, going back to login');\n                            this.logout();\n                        }\n                    });\n                }\n            }\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from \"@angular/router\";\nimport { properties } from '../../assets/js/sampledata/properties.json';\n\n@Component({\n  selector: 'app-map-card',\n  templateUrl: './map-card.component.html',\n  styleUrls: ['./map-card.component.scss'],\n})\nexport class MapCardComponent implements OnInit {\n  properties: Object;\n\n  constructor(private  router:  Router) { }\n  getProperties() {\n    console.log('loading up properties');\n    this.properties = properties;\n  }\n  detailView(property: any){\n    console.log('going to detail view', property)\n    this.router.navigate(['property-images', property]);\n  }\n\n  ngOnInit() {\n    this.getProperties();\n  }\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      Sites\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-searchbar show-cancel-button=\\\"focus\\\" placeholder=\\\"Filter Towers\\\" (input)=\\\"filter($event)\\\" (ionClear)=\\\"resetFilter($event)\\\"></ion-searchbar>\\n\\n<ion-content>\\n  <!-- <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"getMore($event)\\\">\\n    <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" pullingText=\\\"Pull to refresh\\\" refreshingSpinner=\\\"circles\\\" refreshingText=\\\"Loading more properties...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher> Using infinite scroll instead -->\\n  \\n\\n  <app-map-card></app-map-card> \\n\\n  <ion-infinite-scroll threshold=\\\"25px\\\" (ionInfinite)=\\\"loadMore($event)\\\">\\n      <ion-infinite-scroll-content\\n        loadingSpinner=\\\"crescent\\\"\\n        loadingText=\\\"Loading more Sites...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\";","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab3Page } from './tab3.page';\nimport { MapCardComponent } from '../map-card/map-card.component';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab3Page }])\n  ],\n  declarations: [Tab3Page, MapCardComponent]\n})\nexport class Tab3PageModule {}\n","export default \"button[fab].fab-map {\\n  --top: calc(100% - 35px);\\n  --z-index: 50;\\n}\\n\\n.item-bold {\\n  --font-weight: bold;\\n}\\n\\nion-content.cards-bg {\\n  --background-color: #f4f4f7;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RhYjMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVFO0VBQ0Usd0JBQUE7RUFDQSxhQUFBO0FBREo7O0FBSUU7RUFDQyxtQkFBQTtBQURIOztBQUlFO0VBQ0UsMkJBQUE7QUFESiIsImZpbGUiOiJ0YWIzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuICBcbiAgYnV0dG9uW2ZhYl0uZmFiLW1hcCB7XG4gICAgLS10b3A6IGNhbGMoMTAwJSAtIDM1cHgpO1xuICAgIC0tei1pbmRleDogNTA7XG4gIH1cbiAgXG4gIC5pdGVtLWJvbGQge1xuICAgLS1mb250LXdlaWdodDogYm9sZDtcbiAgfVxuICBcbiAgaW9uLWNvbnRlbnQuY2FyZHMtYmcge1xuICAgIC0tYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNztcbiAgfSJdfQ== */\";","export default \"<ion-card *ngFor=\\\"let property of properties\\\" >\\n  <img (click)=\\\"detailView(property)\\\" src=\\\"../../assets/img/advance-card-map-madison.png\\\">\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\">\\n    <ion-fab-button target=\\\"_blank\\\" href=\\\"https://maps.apple.com/?address={{property.coords}}\\\">\\n      <ion-icon name=\\\"pin\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <ion-item (click)=\\\"detailView(property)\\\">\\n    <ion-icon name=\\\"flash\\\" item-start large></ion-icon>\\n    <ion-card-header >\\n      <ion-card-title >{{property.site_name}}</ion-card-title>\\n      <ion-card-subtitle>{{property.coords}}</ion-card-subtitle>\\n    </ion-card-header>\\n  </ion-item>\\n\\n  <ion-item>\\n    <span item-start>{{property.travel_time_m}} min&nbsp;</span>\\n    <span item-start>({{property.miles}} mi)</span>\\n    <ion-fab horizontal=\\\"end\\\">\\n      <ion-button target=\\\"_blank\\\"  href=\\\"https://maps.apple.com/?daddr={{property.coords}}\\\" ion-button icon-start clear item-end>\\n        <ion-icon name=\\\"navigate\\\"></ion-icon>\\n        Start\\n      </ion-button>\\n    </ion-fab>\\n\\n  </ion-item>\\n</ion-card>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtYXAtY2FyZC5jb21wb25lbnQuc2NzcyJ9 */\";"]}