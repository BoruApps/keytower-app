{"version":3,"sources":["webpack:///src/app/underreview/underreview.module.ts","webpack:///src/app/underreview/underreview.page.scss","webpack:///src/app/underreview/underreview.page.html","webpack:///src/app/underreview/underreview.page.ts"],"names":["routes","path","component","UnderreviewPageModule","imports","forChild","declarations","UnderreviewPage","httpClient","navCtrl","router","storage","activatedRoute","appConst","modalCtrl","locale","loadingController","service","id","tower","tos","desc","longdate","startTime","endTime","status","apiurl","getApiUrl","create","message","loading","present","setTimeout","undefined","dismiss","serviceid","navigateByUrl","state","console","log","set","current_theme","get","then","userdata","length","theme","toLowerCase","isLogged","result","userjson","charAt","toUpperCase","slice","userinfo","getCurrentTheme","theme_switcher","destination_theme","document","body","classList","toggle","updateCurrentTheme","log_status","user_id","type","logged_user","headers","append","showLoading","post","observe","subscribe","data","hideLoading","success","workorders","forEach","workorder","underreview","count_underreview","error","params","userData","loadTheme","getWorkOrders","logout","selector","template"],"mappings":"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","file":"underreview-underreview-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UnderreviewPage } from './underreview.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UnderreviewPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [UnderreviewPage]\n})\nexport class UnderreviewPageModule {}\n","export default \".service-details-grid {\\n  --ion-grid-padding: 1px;\\n}\\n\\nion-col > p.st, ion-col > p.et {\\n  color: grey;\\n}\\n\\nion-note.status {\\n  border: 1px solid;\\n  border-radius: 50px;\\n  padding: 10px;\\n  color: white;\\n  --padding: 10px;\\n  --padding-bottom: 10px;\\n  padding-bottom: 10px;\\n}\\n\\nion-badge.status {\\n  padding: 10px;\\n  border-radius: 50px;\\n}\\n\\nion-text.status-text {\\n  color: white !important;\\n}\\n\\np.comment {\\n  white-space: normal;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3VuZGVycmV2aWV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtFQUNJLHVCQUFBO0FBRko7O0FBSUE7RUFDSSxXQUFBO0FBREo7O0FBR0E7RUFDSSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0VBQ0Esc0JBQUE7RUFDQSxvQkFBQTtBQUFKOztBQUdBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0FBQUo7O0FBR0E7RUFDSSx1QkFBQTtBQUFKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSiIsImZpbGUiOiJ1bmRlcnJldmlldy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VydmljZS1kZXRhaWxzLWRpdntcblxufVxuLnNlcnZpY2UtZGV0YWlscy1ncmlke1xuICAgIC0taW9uLWdyaWQtcGFkZGluZzogMXB4O1xufVxuaW9uLWNvbCA+IHAuc3QsIGlvbi1jb2wgPiBwLmV0IHtcbiAgICBjb2xvcjogZ3JleTtcbn1cbmlvbi1ub3RlLnN0YXR1c3tcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIC0tcGFkZGluZzogMTBweDtcbiAgICAtLXBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xufVxuXG5pb24tYmFkZ2Uuc3RhdHVze1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTBweDtcbn1cblxuaW9uLXRleHQuc3RhdHVzLXRleHR7XG4gICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG59XG5wLmNvbW1lbnR7XG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbn0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Under Review</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-list lines=\\\"full\\\">\\n        <div *ngIf=\\\"count_underreview > 0\\\">\\n        <ion-item (click)=\\\"goToDetail(service.workorderid)\\\" detail *ngFor=\\\"let service of underreview\\\">\\n            <ion-avatar><ion-icon color=\\\"warning\\\" size=\\\"large\\\" name=\\\"alert\\\"></ion-icon></ion-avatar>\\n            <ion-label>\\n              <h2>{{service[0]}}</h2>\\n              <h2>{{service.towersites}}</h2>\\n              <p>{{service.longdate}}</p>\\n              <div class=\\\"service-details-div\\\">\\n                <ion-grid class=\\\"service-details-grid\\\">\\n                  <ion-row>\\n                    <ion-col><p class=\\\"comment\\\">{{service.comment}}</p></ion-col>\\n                  </ion-row>\\n                </ion-grid>\\n              </div>\\n            </ion-label>\\n            <!-- <ion-badge slot=\\\"end\\\" class=\\\"status\\\" color=\\\"white\\\"\\n            data-color=\\\"{{(service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined') ? 'danger' : 'warning'}}\\\"\\n            [ngStyle]=\\\"{'background-color': service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined' ? 'var(--ion-color-danger)' : \\n            service?.wostatus == 'Under Review' ? 'var(--ion-color-warning)' : \\n            service?.wostatus == 'Completed' ? 'var(--ion-color-medium)' : 'var(--ion-color-success)', 'border-color':service?.wostatus == 'Cancelled' || service?.wostatus == 'Declined' ? 'var(--ion-color-danger)' : service?.wostatus == 'Under Review' ? 'var(--ion-color-warning)' : 'var(--ion-color-success)' }\\\"\\n            >\\n              <ion-text class=\\\"status-text\\\">{{service.wostatus}}</ion-text>\\n            </ion-badge> -->\\n          </ion-item>\\n        </div>\\n          <p class=\\\"ion-padding\\\" *ngIf=\\\"count_underreview == 0\\\">No work orders available for this section</p>\\n    </ion-list>\\n</ion-content>\\n\";","import {Component, OnInit, LOCALE_ID, Inject,} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {NavController, ModalController} from '@ionic/angular';\nimport {formatDate} from '@angular/common';\nimport {HttpHeaders, HttpClient} from '@angular/common/http';\nimport {Storage} from '@ionic/storage';\nimport {AppConstants} from '../providers/constant/constant';\nimport {LoadingController} from '@ionic/angular';\n\n@Component({\n    selector: 'app-underreview',\n    templateUrl: './underreview.page.html',\n    styleUrls: ['./underreview.page.scss'],\n})\nexport class UnderreviewPage implements OnInit {\n    underreview: object;\n    userinfo: any;\n    user_id: any;\n    count_underreview: any;\n    apiurl: any;\n    service = {\n        id: '',\n        tower: '', //Will be the Transferee + type of service\n        tos: '',\n        desc: '', //Will be address here\n        longdate: '',\n        startTime: '', //Will be time as 00:00 A/PM\n        endTime: '', //Will be time as 00:00 A/PM\n        status: '',\n    };\n\n    constructor(\n        private httpClient: HttpClient,\n        public navCtrl: NavController,\n        private router: Router,\n        public storage: Storage,\n        private activatedRoute: ActivatedRoute,\n        public appConst: AppConstants,\n        public modalCtrl: ModalController,\n        @Inject(LOCALE_ID) private locale: string,\n        public loadingController: LoadingController\n    ) {\n        this.apiurl = this.appConst.getApiUrl();\n    }\n\n    loading: any;\n\n    async showLoading() {\n        this.loading = await this.loadingController.create({\n            message: 'Loading ...'\n        });\n        return await this.loading.present();\n    }\n\n    async hideLoading() {\n        setTimeout(() => {\n            if (this.loading != undefined) {\n                this.loading.dismiss();\n            }\n        }, 1000);\n    }\n\n    goToDetail(serviceid) {\n        this.router.navigateByUrl(`/services/detail/${serviceid}`, {state: {}});\n    }\n\n    logout() {\n        console.log('logout clicked');\n        this.storage.set(\"userdata\", null);\n        this.router.navigateByUrl('/login');\n    }\n\n    async getCurrentTheme() {\n        var current_theme = this.storage.get('userdata').then((userdata) => {\n            if (userdata && userdata.length !== 0) {\n                //current_theme = userdata.theme.toLowerCase();\n                return userdata.theme.toLowerCase();\n            } else {\n                return false;\n            }\n        })\n        return current_theme;\n    }\n\n    async updateCurrentTheme(theme: string) {\n        var userjson: object;\n        await this.isLogged().then(result => {\n            if (!(result == false)) {\n                userjson = result;\n            }\n        })\n        //console.log('from set current theme', userjson.theme);\n        userjson['theme'] = theme.charAt(0).toUpperCase() + theme.slice(1);\n        //console.log('from set current theme', userjson);\n        this.storage.set('userdata', userjson);\n        this.userinfo.theme = theme.charAt(0).toUpperCase() + theme.slice(1);\n        console.log('updated theme on storage memory');\n    }\n\n    async switchTheme() {\n        var current_theme;\n        await this.getCurrentTheme().then((theme) => {\n            console.log(\"the current theme is\", theme);\n            current_theme = theme;\n        });\n        var theme_switcher = {\n            \"dark\": \"light\",\n            \"light\": \"dark\"\n        };\n        var destination_theme = theme_switcher[current_theme]\n        console.log('switching theme from:', current_theme);\n        console.log('switching theme to:', destination_theme);\n        document.body.classList.toggle(destination_theme, true);\n        document.body.classList.toggle(current_theme, false);\n        this.updateCurrentTheme(destination_theme);\n        console.log('theme switched');\n    }\n\n    async isLogged() {\n        var log_status = this.storage.get('userdata').then((userdata) => {\n            if (userdata && userdata.length !== 0) {\n                return userdata;\n            } else {\n                return false;\n            }\n        })\n        return log_status;\n    }\n\n    loadTheme(theme) {\n        console.log('loading theme', theme);\n        document.body.classList.toggle(theme, true);\n        var theme_switcher = {\n            \"dark\": \"light\",\n            \"light\": \"dark\"\n        };\n        document.body.classList.toggle(theme_switcher[theme], false); //switch off previous theme if there was one and prefer the loaded theme.\n        console.log('turning off previous theme', theme_switcher[theme]);\n    }\n\n    getWorkOrders(user_id, type) {\n        var logged_user = {\n            user_id: user_id,\n            type: type\n        }\n        console.log('fetching records for', logged_user);\n        var headers = new HttpHeaders();\n        headers.append(\"Accept\", 'application/json');\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\n        headers.append('Access-Control-Allow-Origin', '*');\n        this.showLoading();\n        this.httpClient.post(this.apiurl + \"getWorkOrders.php\", logged_user, {headers: headers, observe: 'response'})\n            .subscribe(data => {\n                this.hideLoading();\n                console.log(data['body']);\n                var success = data['body']['success'];\n                console.log('login response was', success);\n\n                if (success == true) {\n                    var workorders = data['body']['data'];\n                    console.log('workorders', workorders);\n                    if (type == 'underreview') {\n                        if (data['body']['count'] > 0) {\n                            workorders.forEach(workorder => {\n                                workorder['longdate'] = workorder['date_start'] + ' ' + workorder['time_start'];\n                            });\n                        }\n                        this.underreview = workorders;\n                        this.count_underreview = data['body']['count'];\n                        //console.log('weekly services,', this.weeklyServices);\n                    }\n                } else {\n                    console.log('failed to fetch records');\n                }\n\n            }, error => {\n                this.hideLoading();\n                //console.log(error);\n                //console.log(error.message);\n                //console.error(error.message);\n                console.log('failed to fetch records');\n            });\n    }\n\n    ngOnInit() {\n        this.activatedRoute.params.subscribe((userData) => {\n            if (userData.length !== 0) {\n                this.userinfo = userData;\n                //console.log('param user data:', userData);\n                try {\n                    this.loadTheme(userData.theme.toLowerCase());\n                } catch {\n                    console.log('couldnt load theme');\n                }\n                console.log('param user data length:', userData.length);\n                if (userData.length == undefined) {\n                    console.log('nothing in params, so loading from storage');\n                    this.isLogged().then(result => {\n                        if (!(result == false)) {\n                            //console.log('loading storage data (within param route function)', result);\n                            this.userinfo = result;\n                            this.loadTheme(result.theme.toLowerCase());\n                            this.getWorkOrders(this.userinfo.id, 'underreview');\n                            this.user_id = this.userinfo.id;\n                        } else {\n                            console.log('nothing in storage, going back to login');\n                            this.logout();\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n}\n"]}