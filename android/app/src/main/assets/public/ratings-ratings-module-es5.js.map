{"version":3,"sources":["webpack:///src/app/ratings/ratings.page.html","webpack:///src/app/ratings/ratings.page.scss","webpack:///src/app/ratings/ratings.page.ts","webpack:///src/app/ratings/ratings.module.ts"],"names":["RatingsPage","navCtrl","router","storage","activatedRoute","locale","rating","id","service","completedate","osr","cr","stars","randomPeople","typesOfServices","limit","ratings","i","date","Date","startDay","Math","floor","random","endDay","startMinute","endMinute","startTime","getFullYear","getMonth","getDate","getMinutes","endTime","randomTOS","length","start","end","longdate","rate","round","toFixed","push","console","log","set","navigateByUrl","current_theme","get","then","userdata","theme","toLowerCase","isLogged","result","userjson","charAt","toUpperCase","slice","userinfo","getCurrentTheme","theme_switcher","destination_theme","document","body","classList","toggle","updateCurrentTheme","log_status","params","subscribe","userData","loadTheme","undefined","logout","loadRandomRatings","selector","template","routes","path","component","RatingsPageModule","imports","forChild","declarations"],"mappings":"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","file":"ratings-ratings-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>My Ratings</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let rating of ratings\\\">\\n        <ion-avatar><ion-icon size=\\\"large\\\" name=\\\"star\\\"></ion-icon></ion-avatar>\\n        <ion-label>\\n          <h2>{{rating.service}}</h2>\\n          <p>{{rating.completedate}}</p>\\n          <div class=\\\"rating-details-div\\\">\\n            <ion-grid class=\\\"rating-details-grid\\\">\\n              <ion-row>\\n                <ion-col><p class=\\\"st\\\">On-Site Rating</p></ion-col>\\n                <ion-col><p class=\\\"et\\\">Communication Rating</p></ion-col>\\n              </ion-row>\\n              <ion-row>\\n                <ion-col><p>{{rating.osr}}/10</p></ion-col>\\n                <ion-col><p>{{rating.cr}}/10</p></ion-col>\\n              </ion-row>\\n            </ion-grid>\\n          </div>\\n        </ion-label>\\n        <!-- <ion-note slot=\\\"end\\\" class=\\\"status\\\" color=\\\"medium\\\"></ion-note> -->\\n        <ion-badge slot=\\\"end\\\" color=\\\"primary\\\">\\n          <ion-icon name=\\\"star\\\" color=\\\"warning\\\"></ion-icon>\\n          <ion-icon name=\\\"star\\\" color=\\\"warning\\\"></ion-icon>\\n          <ion-icon name=\\\"star\\\" color=\\\"warning\\\"></ion-icon>\\n          <ion-icon name=\\\"star\\\" color=\\\"warning\\\"></ion-icon>\\n          <ion-icon name=\\\"star\\\" color=\\\"warning\\\"></ion-icon>\\n        </ion-badge>\\n      </ion-item>\\n    </ion-list>\\n</ion-content>\\n\";","export default \".rating-details-grid {\\n  --ion-grid-padding: 1px;\\n  display: flex;\\n}\\n\\nion-icon[name=star] {\\n  color: gold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3JhdGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksdUJBQUE7RUFDQSxhQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0FBQ0oiLCJmaWxlIjoicmF0aW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucmF0aW5nLWRldGFpbHMtZ3JpZHtcbiAgICAtLWlvbi1ncmlkLXBhZGRpbmc6IDFweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xufVxuXG5pb24taWNvbltuYW1lPVwic3RhclwiXXtcbiAgICBjb2xvcjogZ29sZDtcbn0iXX0= */\";","import { Component, OnInit, LOCALE_ID, Inject, } from '@angular/core';\nimport { ActivatedRoute, Router } from  \"@angular/router\";\nimport { NavController } from '@ionic/angular';\nimport { formatDate } from '@angular/common';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'app-ratings',\n  templateUrl: './ratings.page.html',\n  styleUrls: ['./ratings.page.scss'],\n})\nexport class RatingsPage implements OnInit {\n  userinfo: any;\n  ratings: object;\n  rating = {\n    id: '',\n    service: '',\n    completedate: '',\n    osr: '',\n    cr: '',\n    stars: '',\n  }\n  randomPeople = ['Ojomo','Charisse','Mitsue','Lilia','Lynelle','Lavette','Kerry','Beckie','Nathan','Kristle','Nickie','Coretta','Randy','Carmon','Bev','Maude','Cleora','Tracy','Casimira','Lowell','Particia','Bennie','Angelena','Elden','Marcel','Elene','Young','Rheba','Paulene','Latia','Shantay','Lavon','Dane','Darla','Joselyn','Zelda','Kasha','Kaitlin','Pasty','Essie','Delfina','Arla','Amy','Xavier','Jin','Ashlee','Millicent','Jeanetta','Willy','Rolf',];\n  typesOfServices= ['Discard and Donate', 'Quick Start', 'Move IN Clean', 'Quick Start Exec', 'Move OUT Clean'];\n  \n  constructor(public navCtrl: NavController, private  router:  Router, public storage: Storage, private activatedRoute: ActivatedRoute, @Inject(LOCALE_ID) private locale: string) { }\n  \n  async loadRandomRatings(){\n    var limit = 10;\n    var ratings = [];\n    for (var i = 0; i < limit; i += 1){\n      var date = new Date();\n      var startDay = Math.floor(Math.random() * 90) - 45;\n      var endDay = Math.floor(Math.random() * 2) + startDay;\n      var startTime;\n      var endTime;\n      var startMinute = Math.floor(Math.random() * 24 * 60);\n      var endMinute = Math.floor(Math.random() * 180) + startMinute;\n      startTime = new Date(date.getFullYear(), date.getMonth(), date.getDate() + startDay, 0, date.getMinutes() + startMinute);\n      endTime = new Date(date.getFullYear(), date.getMonth(), date.getDate() + endDay, 0, date.getMinutes() + endMinute);\n      var randomTOS = i % this.typesOfServices.length;\n      let start = formatDate(startTime, 'shortTime', this.locale);\n      let end = formatDate(endTime, 'shortTime', this.locale);\n      let longdate = formatDate(startTime, 'medium', this.locale);\n      let osr = Math.floor(Math.random() * (10 - 6 + 1)) + 6;\n      let cr = Math.floor(Math.random() *  (10 - 6 + 1)) + 6;\n      let rate = (( osr + cr ) / 20) * 5;\n      let stars = (Math.round(rate * 2) /2).toFixed(1);\n      ratings.push({\n        id: i,\n        service: this.randomPeople[i] + ': ' + this.typesOfServices[randomTOS],\n        completedate: longdate,\n        osr: osr,\n        cr: cr,\n        stars: stars,\n      });\n    }\n    return ratings;\n  }\n\n  /*basic loadout*/\n  logout(){\n    console.log('logout clicked');\n    this.storage.set(\"userdata\", null);\n    this.router.navigateByUrl('/login');\n  }\n\n  async getCurrentTheme(){\n    var current_theme = this.storage.get('userdata').then((userdata) => {\n      if(userdata && userdata.length !== 0){\n        //current_theme = userdata.theme.toLowerCase();\n        return userdata.theme.toLowerCase();\n      }else{\n        return false;\n      }\n    })\n    return current_theme;\n  }\n\n  async updateCurrentTheme(theme: string){\n    var userjson: object;\n    await this.isLogged().then(result => {\n      if (!(result == false)){\n        userjson = result;\n      }\n    })\n    //console.log('from set current theme', userjson.theme);\n    userjson['theme'] = theme.charAt(0).toUpperCase() + theme.slice(1);\n    //console.log('from set current theme', userjson);\n    this.storage.set('userdata', userjson);\n    this.userinfo.theme= theme.charAt(0).toUpperCase() + theme.slice(1);\n    console.log('updated theme on storage memory');\n  }\n\n   async switchTheme(){\n    var current_theme;\n    await this.getCurrentTheme().then((theme) => {\n      console.log(\"the current theme is\", theme);\n      current_theme = theme;\n    });\n    var theme_switcher = {\n                          \"dark\": \"light\", \n                          \"light\": \"dark\"\n    };\n    var destination_theme = theme_switcher[current_theme]\n    console.log('switching theme from:', current_theme);\n    console.log('switching theme to:', destination_theme);\n    document.body.classList.toggle(destination_theme, true);\n    document.body.classList.toggle(current_theme, false);\n    this.updateCurrentTheme(destination_theme);\n    console.log('theme switched');\n  }\n\n  async isLogged(){\n    var log_status = this.storage.get('userdata').then((userdata) => {\n       if(userdata && userdata.length !== 0){\n         return userdata;\n       }else{\n         return false;\n       }\n     })\n     return log_status;\n   }\n\n   loadTheme(theme){\n    console.log('loading theme', theme);\n    document.body.classList.toggle(theme, true);\n    var theme_switcher = {\n      \"dark\": \"light\", \n      \"light\": \"dark\"\n    };\n    document.body.classList.toggle(theme_switcher[theme], false); //switch off previous theme if there was one and prefer the loaded theme.\n    console.log('turning off previous theme', theme_switcher[theme]);\n   }\n  /*basic loadout*/\n  ngOnInit() {\n    this.activatedRoute.params.subscribe((userData)=>{\n      if(userData.length !== 0){\n        this.userinfo = userData;\n        console.log('param user data:', userData);\n        try{ \n          this.loadTheme(userData.theme.toLowerCase());\n        }catch{\n          console.log('couldnt load theme');\n        }\n        console.log('param user data length:', userData.length);\n        if(userData.length == undefined){\n          console.log ('nothing in params, so loading from storage');\n          this.isLogged().then(result => {\n            if (!(result == false)){\n              console.log('loading storage data (within param route function)', result);\n              this.userinfo = result;\n              this.loadTheme(result.theme.toLowerCase());\n            }else{\n              console.log('nothing in storage, going back to login');\n              this.logout();\n            }\n          }); \n        }\n      }\n    }); \n    this.loadRandomRatings().then(result => { this.ratings = result; console.log(result); })\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RatingsPage } from './ratings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RatingsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RatingsPage]\n})\nexport class RatingsPageModule {}\n"]}