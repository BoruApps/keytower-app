{"version":3,"sources":["./src/app/services/jha/jha.page.html","./src/app/services/jha/jha.page.ts","./src/app/services/jha/jha.module.ts","./src/app/services/jha/jha.page.scss"],"names":[],"mappings":"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","file":"services-jha-jha-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>JHA/JSA</ion-title>\\n    <a href=\\\"services/detail/{{serviceid}}\\\"> <ion-icon name=\\\"close\\\" size=\\\"large\\\" style=\\\"float: right;\\\" ></ion-icon></a>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div id=\\\"map_canvas\\\"></div>\\n  <div>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"4\\\"><ion-label>Lat</ion-label></ion-col>\\n        <ion-col>\\n          <ion-input type=\\\"text\\\" name=\\\"lat\\\" value=\\\"{{lat}}\\\" (ionInput)=\\\"addUpdate($event)\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"4\\\"><ion-label>Long</ion-label></ion-col>\\n        <ion-col>\\n          <ion-input type=\\\"text\\\" name=\\\"long\\\" value=\\\"{{long}}\\\" (ionInput)=\\\"addUpdate($event)\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"4\\\"><ion-label>Job Name</ion-label></ion-col>\\n        <ion-col>\\n          <ion-input type=\\\"text\\\" name=\\\"job_name\\\" value=\\\"{{job_name}}\\\" (ionInput)=\\\"addUpdate($event)\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n    <br>\\n    <ion-button (click)=\\\"gotoJHAHospital()\\\" >NEXT </ion-button>\\n  </div>\\n <!-- <div style=\\\"width : 100% ;height: 60%\\\">\\n    <ion-list>\\n      <ion-item *ngFor=\\\"let place of places\\\">\\n        <p></p>\\n      </ion-item>\\n    </ion-list>\\n  </div>-->\\n</ion-content>\\n\";","import { Component, OnInit, LOCALE_ID, Inject, ViewChild ,ElementRef } from '@angular/core';\nimport { ActivatedRoute, Router } from  '@angular/router';\nimport {NavController, ToastController, AlertController, ModalController, Platform} from '@ionic/angular';\nimport { AppConstants } from '../../providers/constant/constant';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {\n    GoogleMaps,\n    GoogleMap,\n    GoogleMapsEvent,\n    GoogleMapOptions,\n    CameraPosition,\n    MarkerOptions,\n    Marker,\n    Environment\n} from '@ionic-native/google-maps';\n\n@Component({\n  selector: 'app-jha',\n  templateUrl: './jha.page.html',\n  styleUrls: ['./jha.page.scss'],\n})\n\nexport class JhaPage implements OnInit {\n    apiurl:any;\n    lat: any;\n    long:any;\n    serviceid:any;\n    job_name: any;\n    data: any = {};\n    places : Array<any> ;\n    map: GoogleMap;\n    constructor(\n        private modalController: ModalController,\n        public httpClient: HttpClient,\n        public platform: Platform,\n        public toastController: ToastController,\n        private  router:  Router,\n        public appConst: AppConstants,\n        public route: ActivatedRoute\n    ){\n        this.apiurl = this.appConst.getApiUrl();\n    }\n\n    /*async ngOnInit() {\n      this.route.queryParams\n          .subscribe(params => {\n              console.log(params);\n              for(let key in params){\n                console.log(key);\n                if(params[key] != undefined){\n                    this.data[key] = params[key];\n                }\n              }\n              this.lat = params.lat;\n              this.long = params.long;\n              this.serviceid = params.serviceid;\n              this.job_name = params.job_name;\n              this.serviceid = params.serviceid;\n              this.loadMap(this.lat, this.long);\n          });\n  }*/\n\n    async ngOnInit() {\n        this.route.queryParams\n            .subscribe(params => {\n                console.log(params);\n                for(let key in params){\n                    console.log(key);\n                    if(params[key] != undefined){\n                        this.data[key] = params[key];\n                    }\n                }\n                this.lat = params.lat;\n                this.long = params.long;\n                this.serviceid = params.serviceid;\n                this.job_name = params.job_name;\n                this.serviceid = params.serviceid;\n            });\n\n        // Since ngOnInit() is executed before `deviceready` event,\n        // you have to wait the event.\n        await this.platform.ready();\n        await this.loadMap();\n    }\n    loadMap() {\n        console.log('load Map');\n        this.map = GoogleMaps.create('map_canvas', {\n            camera: {\n                target: {\n                    lat: this.lat,\n                    lng: this.long\n                },\n                zoom: 18,\n                tilt: 30\n            }\n        });\n\n    }\n\n    /*addMap(lat, long) {\n        console.log(lat);\n        console.log(long);\n        let latLng = new google.maps.LatLng(lat,long);\n        console.log(latLng);\n        let mapOptions = {\n            center: latLng,\n            zoom: 15,\n            mapTypeId: google.maps.MapTypeId.ROADMAP\n        }\n\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n\n        /!*this.getHospital(latLng).then((results : Array<any>)=>{\n            this.places = results;\n            for(let i = 0 ;i < results.length ; i++) {\n                this.createMarker(results[i]);\n            }\n        },(status)=>console.log(status));*!/\n\n        this.addMarker();\n\n    }\n    addMarker() {\n\n        let marker = new google.maps.Marker({\n            map: this.map,\n            animation: google.maps.Animation.DROP,\n            position: this.map.getCenter()\n        });\n\n        let content = \"<p>This is your current position !</p>\";\n        let infoWindow = new google.maps.InfoWindow({\n            content: content\n        });\n\n        google.maps.event.addListener(marker, 'click', () => {\n            infoWindow.open(this.map, marker);\n        });\n\n    }\n    getHospital(latLng) {\n        var service = new google.maps.places.PlacesService(this.map);\n        let request = {\n            location : latLng,\n            radius : 8047 ,\n            types: [\"hospital\"]\n        };\n        return new Promise((resolve,reject)=>{\n            service.nearbySearch(request,function(results,status){\n                if (status === google.maps.places.PlacesServiceStatus.OK) {\n                    resolve(results);\n                } else {\n                    reject(status);\n                }\n\n            });\n        });\n\n    }\n    createMarker(place) {\n        let marker = new google.maps.Marker({\n            map: this.map,\n            animation: google.maps.Animation.DROP,\n            position: place.geometry.location\n        });\n    }*/\n\n    gotoJHAHospital() {\n        this.router.navigate(['services/jha-hospital'], { queryParams: {serviceid: this.serviceid, lat: this.data[\"lat\"], long: this.data[\"long\"], job_name: this.data[\"job_name\"]} });\n    }\n    addUpdate(event) {\n        var fieldname = event.target.name;\n        var fieldvalue =  event.target.value;\n        if (event.target.tagName == 'ION-INPUT'){\n            fieldvalue = event.target.textContent + event.target.value;\n        }\n        this.data[fieldname] = fieldvalue;\n        console.log(this.data);\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { JhaPage } from './jha.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: JhaPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [JhaPage]\n})\nexport class JhaPageModule {}\n","export default \"ion-input {\\n  border-bottom: 1px solid #ccc;\\n}\\n\\n#map_canvas {\\n  height: 90%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2poYS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSw2QkFBQTtBQUNGOztBQUNBO0VBQ0UsV0FBQTtBQUVGIiwiZmlsZSI6ImpoYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taW5wdXR7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xufVxuI21hcF9jYW52YXN7XG4gIGhlaWdodDogOTAlO1xufSJdfQ== */\";"],"sourceRoot":"webpack:///"}