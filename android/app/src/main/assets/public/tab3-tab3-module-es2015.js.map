{"version":3,"sources":["./src/app/tab3/tab3.page.ts","./src/app/map-card/map-card.component.ts","./src/app/tab3/tab3.page.html","./src/app/tab3/tab3.module.ts","./src/app/tab3/tab3.page.scss","./src/app/map-card/map-card.component.html","./src/app/map-card/map-card.component.scss"],"names":[],"mappings":"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","file":"tab3-tab3-module-es2015.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Storage} from '@ionic/storage';\nimport {IonInfiniteScroll} from '@ionic/angular';\n\n@Component({\n    selector: 'app-tab3',\n    templateUrl: 'tab3.page.html',\n    styleUrls: ['tab3.page.scss']\n})\nexport class Tab3Page implements OnInit {\n    userinfo: any;\n\n    constructor(private activatedRoute: ActivatedRoute, private  router: Router, public storage: Storage) {\n    }\n\n    /* Default Auth Guard and Theme Loader */\n    logout() {\n        console.log('logging out, no user data found');\n        this.storage.set(\"userdata\", null);\n        this.router.navigateByUrl('/login');\n    }\n\n    async getCurrentTheme() {\n        var current_theme = this.storage.get('userdata').then((userdata) => {\n            if (userdata && userdata.length !== 0) {\n                //current_theme = userdata.theme.toLowerCase();\n                return userdata.theme.toLowerCase();\n            } else {\n                return false;\n            }\n        })\n        return current_theme;\n    }\n\n    async isLogged() {\n        var log_status = this.storage.get('userdata').then((userdata) => {\n            if (userdata && userdata.length !== 0) {\n                return userdata;\n            } else {\n                return false;\n            }\n        })\n        return log_status;\n    }\n\n    loadTheme(theme) {\n        document.body.classList.toggle(theme, true);\n    }\n\n    /* Default Auth Guard and Theme Loader */\n\n\n    filter(e) {\n        console.log(e.target.value);\n        var searchterm = e.target.value.toLowerCase();\n        var nodelist = document.querySelectorAll('app-map-card > ion-card');\n        Array.from(nodelist).filter(function (cards) {\n            console.log(cards.textContent.toLowerCase(), cards.textContent.toLowerCase().indexOf(searchterm));\n            if (cards.textContent.toLowerCase().indexOf(searchterm) > -1) {\n                cards.toggleAttribute('hidden', false);\n            } else {\n                cards.toggleAttribute('hidden', true);\n            }\n        });\n    }\n\n    resetFilter(e) {\n        console.log(e);\n        console.log('resetting filter to show all cards');\n        var nodelist = document.querySelectorAll('app-map-card > ion-card');\n        console.log(nodelist)\n        Array.from(nodelist).filter(function (cards) {\n            cards.toggleAttribute('hidden', false);\n        });\n    }\n\n    getMore(e) {\n        console.log('Retrieving more properties');\n\n        setTimeout(() => {\n            e.target.complete();\n            console.log('New properties retrieved');\n        }, 2000);\n    }\n\n    loadMore(e) {\n        setTimeout(() => {\n            e.target.complete();\n            console.log('New properties retrieved');\n            // App logic to determine if all data is loaded\n            // and disable the infinite scroll\n            /*\n            if (data.length == 1000) {\n              e.target.disabled = true;\n            }\n            */\n        }, 1500);\n    }\n\n    ngOnInit() {\n        this.activatedRoute.params.subscribe((userData) => {\n            if (userData.length !== 0) {\n                this.userinfo = userData;\n                console.log('param user data:', userData);\n                try {\n                    this.loadTheme(userData.theme.toLowerCase());\n                } catch {\n                    console.log('couldnt load theme');\n                }\n                console.log('param user data length:', userData.length);\n                if (userData.length == undefined) {\n                    console.log('nothing in params, so loading from storage');\n                    this.isLogged().then(result => {\n                        if (!(result == false)) {\n                            console.log('loading storage data (within param route function)', result);\n                            this.userinfo = result;\n                            this.loadTheme(result.theme.toLowerCase());\n                        } else {\n                            console.log('nothing in storage, going back to login');\n                            this.logout();\n                        }\n                    });\n                }\n            }\n        });\n    }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from \"@angular/router\";\nimport { properties } from '../../assets/js/sampledata/properties.json';\n\n@Component({\n  selector: 'app-map-card',\n  templateUrl: './map-card.component.html',\n  styleUrls: ['./map-card.component.scss'],\n})\nexport class MapCardComponent implements OnInit {\n  properties: Object;\n\n  constructor(private  router:  Router) { }\n  getProperties() {\n    console.log('loading up properties');\n    this.properties = properties;\n  }\n  detailView(property: any){\n    console.log('going to detail view', property)\n    this.router.navigate(['property-images', property]);\n  }\n\n  ngOnInit() {\n    this.getProperties();\n  }\n\n}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      Sites\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-searchbar show-cancel-button=\\\"focus\\\" placeholder=\\\"Filter Towers\\\" (input)=\\\"filter($event)\\\" (ionClear)=\\\"resetFilter($event)\\\"></ion-searchbar>\\n\\n<ion-content>\\n  <!-- <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"getMore($event)\\\">\\n    <ion-refresher-content pullingIcon=\\\"arrow-dropdown\\\" pullingText=\\\"Pull to refresh\\\" refreshingSpinner=\\\"circles\\\" refreshingText=\\\"Loading more properties...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher> Using infinite scroll instead -->\\n  \\n\\n  <app-map-card></app-map-card> \\n\\n  <ion-infinite-scroll threshold=\\\"25px\\\" (ionInfinite)=\\\"loadMore($event)\\\">\\n      <ion-infinite-scroll-content\\n        loadingSpinner=\\\"crescent\\\"\\n        loadingText=\\\"Loading more Sites...\\\">\\n      </ion-infinite-scroll-content>\\n    </ion-infinite-scroll>\\n</ion-content>\";","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab3Page } from './tab3.page';\nimport { MapCardComponent } from '../map-card/map-card.component';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild([{ path: '', component: Tab3Page }])\n  ],\n  declarations: [Tab3Page, MapCardComponent]\n})\nexport class Tab3PageModule {}\n","export default \"button[fab].fab-map {\\n  --top: calc(100% - 35px);\\n  --z-index: 50;\\n}\\n\\n.item-bold {\\n  --font-weight: bold;\\n}\\n\\nion-content.cards-bg {\\n  --background-color: #f4f4f7;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RhYjMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVFO0VBQ0Usd0JBQUE7RUFDQSxhQUFBO0FBREo7O0FBSUU7RUFDQyxtQkFBQTtBQURIOztBQUlFO0VBQ0UsMkJBQUE7QUFESiIsImZpbGUiOiJ0YWIzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuICBcbiAgYnV0dG9uW2ZhYl0uZmFiLW1hcCB7XG4gICAgLS10b3A6IGNhbGMoMTAwJSAtIDM1cHgpO1xuICAgIC0tei1pbmRleDogNTA7XG4gIH1cbiAgXG4gIC5pdGVtLWJvbGQge1xuICAgLS1mb250LXdlaWdodDogYm9sZDtcbiAgfVxuICBcbiAgaW9uLWNvbnRlbnQuY2FyZHMtYmcge1xuICAgIC0tYmFja2dyb3VuZC1jb2xvcjogI2Y0ZjRmNztcbiAgfSJdfQ== */\";","export default \"<ion-card *ngFor=\\\"let property of properties\\\" >\\n  <img (click)=\\\"detailView(property)\\\" src=\\\"../../assets/img/advance-card-map-madison.png\\\">\\n  <ion-fab vertical=\\\"top\\\" horizontal=\\\"end\\\">\\n    <ion-fab-button target=\\\"_blank\\\" href=\\\"https://maps.apple.com/?address={{property.coords}}\\\">\\n      <ion-icon name=\\\"pin\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n  <ion-item (click)=\\\"detailView(property)\\\">\\n    <ion-icon name=\\\"flash\\\" item-start large></ion-icon>\\n    <ion-card-header >\\n      <ion-card-title >{{property.site_name}}</ion-card-title>\\n      <ion-card-subtitle>{{property.coords}}</ion-card-subtitle>\\n    </ion-card-header>\\n  </ion-item>\\n\\n  <ion-item>\\n    <span item-start>{{property.travel_time_m}} min&nbsp;</span>\\n    <span item-start>({{property.miles}} mi)</span>\\n    <ion-fab horizontal=\\\"end\\\">\\n      <ion-button target=\\\"_blank\\\"  href=\\\"https://maps.apple.com/?daddr={{property.coords}}\\\" ion-button icon-start clear item-end>\\n        <ion-icon name=\\\"navigate\\\"></ion-icon>\\n        Start\\n      </ion-button>\\n    </ion-fab>\\n\\n  </ion-item>\\n</ion-card>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtYXAtY2FyZC5jb21wb25lbnQuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}